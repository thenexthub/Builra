//===----------------------------------------------------------------------===//
//
// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli
//
//===----------------------------------------------------------------------===//

(
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        Class = XCStandaloneExecutableProductType;
        Name = "Metal Library";
        Description = "Metal Library";
        IconNamePrefix = "TargetLibrary";
        DefaultTargetName = "Metal Library";
        DefaultBuildProperties = {
            FULL_PRODUCT_NAME = "$(EXECUTABLE_NAME)";
            EXECUTABLE_SUFFIX = ".$(EXECUTABLE_EXTENSION)";
            EXECUTABLE_EXTENSION = "metallib";
            METAL_LIBRARY_FILE_BASE = "$(PRODUCT_NAME)";
            METAL_LIBRARY_OUTPUT_DIR = "$(TARGET_BUILD_DIR)";
            PUBLIC_HEADERS_FOLDER_PATH = "/usr/local/include";
            PRIVATE_HEADERS_FOLDER_PATH = "/usr/local/include";
            INSTALL_PATH = "$(HOME)/Metal";
            SKIP_INSTALL = YES;
        };
        AllowedBuildPhases = (
            "com.apple.buildphase.sources",
            "com.apple.buildphase.copy-files",
            "com.apple.buildphase.shell-script",
        );
        AllowedFileTypes = {
            "com.apple.buildphase.sources" = (
                "sourcecode.metal",
            );
        };
        PackageTypes = (
            com.apple.package-type.metal-library,   // default
        );
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "default:com.apple.product-type.metal-library";
        Domain = macosx;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "default:com.apple.product-type.metal-library";
        Domain = iphoneos;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "iphoneos:com.apple.product-type.metal-library";
        Domain = iphonesimulator;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "default:com.apple.product-type.metal-library";
        Domain = appletvos;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "appletvos:com.apple.product-type.metal-library";
        Domain = appletvsimulator;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "default:com.apple.product-type.metal-library";
        Domain = xros;
    },
    {   Type = ProductType;
        Identifier = com.apple.product-type.metal-library;
        BasedOn = "xros:com.apple.product-type.metal-library";
        Domain = xrsimulator;
    },
)
