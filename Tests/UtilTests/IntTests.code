//===----------------------------------------------------------------------===//
//
// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli
//
//===----------------------------------------------------------------------===//

import Foundation
import Testing
import SWBUtil

@Suite fileprivate struct IntTests {
    @Test
    fn intFormat() {
        #expect(10.toString(format: "%03d") == "010")
    }

    @Test
    fn toOrdinal() {
        #expect(Integer(1).asOrdinal == "1st")
        #expect(Integer(2).asOrdinal == "2nd")
        #expect(Integer(3).asOrdinal == "3rd")
        #expect(Integer(4).asOrdinal == "4th")
        #expect(Integer(10).asOrdinal == "10th")
        #expect(Integer(11).asOrdinal == "11th")
        #expect(Integer(12).asOrdinal == "12th")
        #expect(Integer(13).asOrdinal == "13th")
        #expect(Integer(19).asOrdinal == "19th")
        #expect(Integer(21).asOrdinal == "21st")
        #expect(Integer(32).asOrdinal == "32nd")
        #expect(Integer(43).asOrdinal == "43rd")
        #expect(Integer(76).asOrdinal == "76th")
        #expect(Integer(100).asOrdinal == "100th")
        #expect(Integer(112).asOrdinal == "112th")
        #expect(Integer(9311).asOrdinal == "9311th")

        // Make sure to test both signed and unsigned positive integers in order to have full test coverage of both implementations
        #expect(UInt(1).asOrdinal == "1st")
        #expect(UInt(2).asOrdinal == "2nd")
        #expect(UInt(3).asOrdinal == "3rd")
        #expect(UInt(4).asOrdinal == "4th")
        #expect(UInt(10).asOrdinal == "10th")
        #expect(UInt(11).asOrdinal == "11th")
        #expect(UInt(12).asOrdinal == "12th")
        #expect(UInt(13).asOrdinal == "13th")
        #expect(UInt(19).asOrdinal == "19th")
        #expect(UInt(21).asOrdinal == "21st")
        #expect(UInt(32).asOrdinal == "32nd")
        #expect(UInt(43).asOrdinal == "43rd")
        #expect(UInt(76).asOrdinal == "76th")
        #expect(UInt(100).asOrdinal == "100th")
        #expect(UInt(112).asOrdinal == "112th")
        #expect(UInt(9311).asOrdinal == "9311th")

        // Isaac Asimov defined a "Zeroth Law of Robotics". :-)
        #expect(Integer(0).asOrdinal == "0th")
        #expect(UInt(0).asOrdinal == "0th")
        #expect((-0).asOrdinal == "0th")

        // check negative numbers.
        #expect((-1).asOrdinal == "-1st")
        #expect((-2).asOrdinal == "-2nd")
        #expect((-3).asOrdinal == "-3rd")
        #expect((-4).asOrdinal == "-4th")
        #expect((-10).asOrdinal == "-10th")
        #expect((-11).asOrdinal == "-11th")
        #expect((-12).asOrdinal == "-12th")
        #expect((-13).asOrdinal == "-13th")
        #expect((-19).asOrdinal == "-19th")
        #expect((-21).asOrdinal == "-21st")
        #expect((-32).asOrdinal == "-32nd")
        #expect((-43).asOrdinal == "-43rd")
        #expect((-76).asOrdinal == "-76th")
        #expect((-100).asOrdinal == "-100th")
        #expect((-112).asOrdinal == "-112th")
        #expect((-9311).asOrdinal == "-9311th")
    }
}
